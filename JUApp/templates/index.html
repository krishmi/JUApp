<!DOCTYPE >
<html lang="en">
	<head>
		{% load static %}
		<title>JUApp</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
		<link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.6.3/css/all.css' integrity='sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/' crossorigin='anonymous'>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
		<script type="text/javascript">
			var val=0;
			var move=50;
			var flag=false;
			var boxLength=[0,0,0,0,0,0,0,0];
			var hideLength=[0,0,0,0,0,0,0,0];
			function callback(argument) {
				flag=false;
			}
			function left()
			{
				if(flag)
					return ;
				var currentPosition = parseInt($('.innerBox').css("left"));
				var len=$('body>div>div>div>div>div>div').parent().width();
			//	alert(len+' '+val+' '+currentPosition);
				if(val-len+currentPosition>0)
				{
					flag=true;	
					$('.innerBox').animate({left:"-="+Math.min(val-len+currentPosition,move)},200,callback);
				}	
			}
			function right()
			{
				if(flag)
					return ;
				var currentPosition = parseInt($('.innerBox').css("left"));
    			if (currentPosition <0) 
    			{
    				flag=true;
					$('.innerBox').animate({left:"+="+move}, 200,callback);
				}
			}
			
			function enlarge(obj) {
				scale=1.1;
				$(obj).css('-webkit-transform','scale('+scale+')');
			}
			function diminish(obj) {
				scale=1.0;
				$(obj).css('-webkit-transform','scale('+scale+')');
			}
			function load() {
				var str=location.href;
				i=str.lastIndexOf('/',str.length-2);
				if(i!=-1)
				{
					str=str.substr(0,i+1);
					str=str+document.getElementById('dept').value+'/';
				}
				location.href=str;
			}
			function calculate()
			{
				var containers=$('body>div>div>div>div>div>div');
				for(var i=0;i<containers.children().length;++i)
				val+=$(containers.children()[i].children[0])[0].offsetWidth+15;
			}
		</script>
		<link rel="stylesheet" type="text/css" href="{% static 'index.css' %}">
	</head>
	<body background="{% static 'books.png'%}" onload="calculate()">
	<div class="container-fluid">
			<img id='logo' src="{% static 'logo.gif' %}" class="img-responsive" />
			<select name ='dept' id="dept" onchange="load()">
				<option value="Construction">Construction</option>	
				<option value="Information Technology">Information Technology</option>	
				<option value="Instrumentation">Instrumentation</option>	
				<option value="Power">Power</option>	
				<option value="Printing">Printing</option>	
			</select>
			{% if flag %}
				<div class="bg-secondary container box rounded">
				<div class="outerbox">
					<h5>First Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class=" col-1" onclick="left()">
							<i class='fas fa-angle-left' style='font-size:40px;color:white;margin-left: 40%'></i>
						</div>
						<div class="hiding col-10" id="l1" >
						<div class="innerBox " id="l2">
							{% for sub in s1 %}
							<a  href="{{sub.name}}">
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							</a>
							{% endfor %}
						</div>
						</div>
						<div class=" col-1 " onclick="right()">
							<i class='fas fa-angle-right'  style='font-size:40px;color:white;margin-left: 25%'></i>
						</div>
					</div>
				</div>
		<!--		<div class="outerbox">
					<h5>Second Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class="innerBox col-1"></div>
						<div class="innerBox col-10 ">
							{% for sub in s2 %}
							<a  href="{{sub.name}}">
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							</a>
							{% endfor %}
						</div>
						<div class="innerBox col-1"></div>
					</div>
				</div>
				<div class="outerbox">
					<h5>Third Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class="innerBox col-1"></div>
						<div class="innerBox col-10 ">
							{% for sub in s3 %}
							<a  href="{{sub.name}}">
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							</a>
							{% endfor %}
						</div>
						<div class="innerBox col-1"></div>
					</div>
				</div>
				<div class="outerbox">
					<h5>Fourth Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class="innerBox col-1"></div>
						<div class="innerBox col-10 ">
							{% for sub in s4 %}
							<a  href="{{sub.name}}">
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							</a>
							{% endfor %}
						</div>
						<div class="innerBox col-1"></div>
					</div>
				</div>
				<div class="outerbox">
					<h5>Fifth Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class="innerBox col-1"></div>
						<div class="innerBox col-10 ">
							{% for sub in s5 %}
							<a  href="{{sub.name}}"{{sub.name}}>
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							</a>
							{% endfor %}
						</div>
						<div class="innerBox col-1"></div>
					</div>
				</div>
				<div class="outerbox">
					<h5>Sixth Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class="innerBox col-1"></div>
						<div class="innerBox col-10 ">
							{% for sub in s6 %}
							<a  href="{{sub.name}}">
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							</a>
							{% endfor %}
						</div>
						<div class="innerBox col-1"></div>
					</div>
				</div>
				<div class="outerbox">
					<h5>Seventh Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class="innerBox col-1"></div>
						<div class="innerBox col-10 ">
							{% for sub in s7 %}
							<a  href="{{sub.name}}">
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							{% endfor %}
							</a>
						</div>
						<div class="innerBox col-1"></div>
					</div>
				</div>
				<div class="outerbox">
					<h5>Eighth Semester</h5>
					<br/>
					<div class="row no-padding no-gutters">
						<div class="innerBox col-1"></div>
						<div class="innerBox col-10 ">
							{% for sub in s8 %}
							<a  href="{{sub.name}}">
								<div class="subject text-center small rounded " onmouseenter="enlarge(this)" onmouseleave="diminish(this)">
									{{sub.name}}
								</div>
							</a>
							{% endfor %}
						</div>
						<div class="innerBox col-1"></div>
					</div>
				</div>
				</div>-->
			{% endif %}
		</div>
	</body>
</html>